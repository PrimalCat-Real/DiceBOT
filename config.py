from discord import Color, Embed
import discord

from bot.forms.form import FormField, FormStatus

PLAYER_ROLE_ID = 1294631037212688548
RULES_CHANNEL_ID = 1294627794571100200
GUIDES_CHANNEL_ID = 347217887726932018

admin_roles = [1301580747634638859, 1301580770607104070, 1301580815314063360, 1301580795466743838]
moder_roles = [1294635010053242941, 1330811514558484492]

guild_id = 993224057464041552

def is_admin(interaction: discord.Interaction) -> bool:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.
    :param interaction: –û–±—ä–µ–∫—Ç Interaction –∏–∑ discord.py.
    :return: True, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –∏–Ω–∞—á–µ False.
    """
    # –ü–æ–ª—É—á–∞–µ–º —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    user_roles = interaction.user.roles

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–æ–ª—å
    for role in user_roles:
        if role.id in admin_roles:
            return True
    return False

def is_moderator(interaction: discord.Interaction) -> bool:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º.
    :param interaction: –û–±—ä–µ–∫—Ç Interaction –∏–∑ discord.py.
    :return: True, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä, –∏–Ω–∞—á–µ False.
    """
    # –ü–æ–ª—É—á–∞–µ–º —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    user_roles = interaction.user.roles

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—Å–∫–∞—è –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–æ–ª—å
    for role in user_roles:
        if role.id in moder_roles or role.id in admin_roles:
            return True
    return False


FORM_FIELDS = [
    FormField("–ù–∏–∫ –≤ –∏–≥—Ä–µ", "Minecraft –Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞–π—Ç-–ª–∏—Å—Ç", key="minecraft_username", required=True, max_length=24, regex=r"^[a-zA-Z0-9_]{3,16}$"),
    FormField("–†–µ–∞–ª—å–Ω—ã–π –í–æ–∑—Ä–∞—Å—Ç", "–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç", key="real_age", max_length=2, regex=r"^\d{2,}$", required=True),
    FormField("–û–ø—ã—Ç RP", "–ù–µ—Ç | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π | –°—Ä–µ–¥–Ω–∏–π | –í—ã—Å–æ–∫–∏–π", key="rp_experience", max_length=256, required=True),
    FormField("–ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ RP", "–ò—Å—Ç–æ—Ä–∏—è –ò–ì–†–û–í–û–ì–û(–í–´–î–£–ú–ê–ù–ù–û–ì–û) –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –∑–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã –±—É–¥–µ—Ç–µ –æ—Ç—ã–≥—Ä—ã–≤–∞—Ç—å –†–ü", key="rp_character_story", min_length=150, required=True, max_length=1024, field_type="textarea"),
    FormField("–ö–∞–∫ –≤—ã —É–∑–Ω–∞–ª–∏ –æ —Å–µ—Ä–≤–µ—Ä–µ?", "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, –≥–¥–µ –≤—ã —É–∑–Ω–∞–ª–∏ –æ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ –æ—Ç –∫–æ–≥–æ", key="how_did_you_find_us", max_length=1024, required=False)
]

FORM_STATUSES = {
    "pending": FormStatus("pending", "–í –æ–∂–∏–¥–∞–Ω–∏–∏", 0xFFCA3A),
    "approved": FormStatus("approved", "–û–¥–æ–±—Ä–µ–Ω–æ", 0x2ECF03),
    "rejected": FormStatus("rejected", "–û—Ç–∫–ª–æ–Ω–µ–Ω–æ", 0xFF595E),
    "deleted": FormStatus("deleted", "–£–¥–∞–ª–µ–Ω–æ", 0x808080),
}

messages = {
    "welcome_embed": Embed(
            title="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Dice | RP üé≤",
            description=(
                 f" **–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –∞–Ω–∫–µ—Ç–∞?**\n"
                f"–ê–Ω–∫–µ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–æ–ª–∏ <@&{PLAYER_ROLE_ID}>, –∞ —Ç–∞–∫–∂–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏ –∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.\n\n"
                f"1Ô∏è‚É£**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∞–Ω–∫–µ—Ç—ã?**\n"
                f"–ü–µ—Ä–µ–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∞–Ω–∫–µ—Ç—ã –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ—á—Ç–∏ (<#{RULES_CHANNEL_ID}>) –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.\n\n"
                f"2Ô∏è‚É£ **–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∞–Ω–∫–µ—Ç—ã?**\n"
                f"üîë –û—Ç–≤–µ—á–∞–π —á–µ—Å—Ç–Ω–æ –∏ –ø–æ —Å—É—â–µ—Å—Ç–≤—É. –í –≤–æ–ø—Ä–æ—Å–∞—Ö, –≥–¥–µ –Ω—É–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –ø–æ—Å—Ç–∞—Ä–∞–π—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π ‚Äî —ç—Ç–æ —É–≤–µ–ª–∏—á–∏—Ç —à–∞–Ω—Å—ã –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ–ª–∏! –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é –∞–Ω–∫–µ—Ç—ã –≤—ã –º–æ–∂–µ—Ç–µ –≤ –∫–∞–Ω–∞–ª–µ: (<#{GUIDES_CHANNEL_ID}>)üòé\n\n"
                f"–£–¥–∞—á–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏! üéâ"
            ),
            color=0x9535C9
        ),
    "existing_form_error": "–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∞–Ω–∫–µ—Ç–∞",
    "existing_form_nick_error": "–ê–Ω–∫–µ—Ç–∞ —Å —Ç–∞–∫–∏–º –Ω–∏–∫–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}